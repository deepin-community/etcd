.\" This file was generated by help2man 1.49.3, with human revise
.TH ETCD "1" "January 2022" "3.4.23" "User Commands"
.SH NAME
etcd \- highly-available key value store
.SH SYNOPSIS
etcd [flags]
.SH FLAGS
.SS "Member:"
.HP
\fB\-\-name\fR 'default'
.IP
Human\-readable name for this member.
.HP
\fB\-\-data\-dir\fR '${name}.etcd'
.IP
Path to the data directory.
.HP
\fB\-\-wal\-dir\fR ''
.IP
Path to the dedicated wal directory.
.HP
\fB\-\-snapshot\-count\fR '100000'
.IP
Number of committed transactions to trigger a snapshot to disk.
.HP
\fB\-\-heartbeat\-interval\fR '100'
.IP
Time (in milliseconds) of a heartbeat interval.
.HP
\fB\-\-election\-timeout\fR '1000'
.IP
Time (in milliseconds) for an election to timeout. See tuning documentation for details.
.HP
\fB\-\-initial\-election\-tick\-advance\fR 'true'
.IP
Whether to fast\-forward initial election ticks on boot for faster election.
.HP
\fB\-\-listen\-peer\-urls\fR 'http://localhost:2380'
.IP
List of URLs to listen on for peer traffic.
.HP
\fB\-\-listen\-client\-urls\fR 'http://localhost:2379'
.IP
List of URLs to listen on for client traffic.
.HP
\fB\-\-max\-snapshots\fR '5'
.IP
Maximum number of snapshot files to retain (0 is unlimited).
.HP
\fB\-\-max\-wals\fR '5'
.IP
Maximum number of wal files to retain (0 is unlimited).
.HP
\fB\-\-quota\-backend\-bytes\fR '0'
.IP
Raise alarms when backend size exceeds the given quota (0 defaults to low space quota).
.HP
\fB\-\-backend\-batch\-interval\fR ''
.IP
BackendBatchInterval is the maximum time before commit the backend transaction.
.HP
\fB\-\-backend\-batch\-limit\fR '0'
.IP
BackendBatchLimit is the maximum operations before commit the backend transaction.
.HP
\fB\-\-max\-txn\-ops\fR '128'
.IP
Maximum number of operations permitted in a transaction.
.HP
\fB\-\-max\-request\-bytes\fR '1572864'
.IP
Maximum client request size in bytes the server will accept.
.HP
\fB\-\-max\-concurrent\-streams\fR 'math.MaxUint32'
.IP
Maximum concurrent streams that each client can open at a time.
.HP
\fB\-\-grpc\-keepalive\-min\-time\fR '5s'
.IP
Minimum duration interval that a client should wait before pinging server.
.HP
\fB\-\-grpc\-keepalive\-interval\fR '2h'
.IP
Frequency duration of server\-to\-client ping to check if a connection is alive (0 to disable).
.HP
\fB\-\-grpc\-keepalive\-timeout\fR '20s'
.IP
Additional duration of wait before closing a non\-responsive connection (0 to disable).
.SS "Clustering:"
.HP
\fB\-\-initial\-advertise\-peer\-urls\fR 'http://localhost:2380'
.IP
List of this member's peer URLs to advertise to the rest of the cluster.
.HP
\fB\-\-initial\-cluster\fR 'default=http://localhost:2380'
.IP
Initial cluster configuration for bootstrapping.
.HP
\fB\-\-initial\-cluster\-state\fR 'new'
.IP
Initial cluster state ('new' or 'existing').
.HP
\fB\-\-initial\-cluster\-token\fR 'etcd\-cluster'
.IP
Initial cluster token for the etcd cluster during bootstrap.
Specifying this can protect you from unintended cross\-cluster interaction when running multiple clusters.
.HP
\fB\-\-advertise\-client\-urls\fR 'http://localhost:2379'
.IP
List of this member's client URLs to advertise to the public.
The client URLs advertised should be accessible to machines that talk to etcd cluster. etcd client libraries parse these URLs to connect to the cluster.
.HP
\fB\-\-discovery\fR ''
.IP
Discovery URL used to bootstrap the cluster.
.HP
\fB\-\-discovery\-fallback\fR 'proxy'
.IP
Expected behavior ('exit' or 'proxy') when discovery services fails.
"proxy" supports v2 API only.
.HP
\fB\-\-discovery\-proxy\fR ''
.IP
HTTP proxy to use for traffic to discovery service.
.HP
\fB\-\-discovery\-srv\fR ''
.IP
DNS srv domain used to bootstrap the cluster.
.HP
\fB\-\-discovery\-srv\-name\fR ''
.IP
Suffix to the dns srv name queried when bootstrapping.
.HP
\fB\-\-strict\-reconfig\-check\fR 'true'
.IP
Reject reconfiguration requests that would cause quorum loss.
.HP
\fB\-\-pre\-vote\fR 'false'
.IP
Enable to run an additional Raft election phase.
.HP
\fB\-\-auto\-compaction\-retention\fR '0'
.IP
Auto compaction retention length. 0 means disable auto compaction.
.HP
\fB\-\-auto\-compaction\-mode\fR 'periodic'
.IP
Interpret 'auto\-compaction\-retention' one of: periodic|revision. 'periodic' for duration based retention, defaulting to hours if no time unit is provided (e.g. '5m'). 'revision' for revision number based retention.
.HP
\fB\-\-enable\-v2\fR 'false'
.IP
Accept etcd V2 client requests.
.SS "Security:"
.HP
\fB\-\-cert\-file\fR ''
.IP
Path to the client server TLS cert file.
.HP
\fB\-\-key\-file\fR ''
.IP
Path to the client server TLS key file.
.HP
\fB\-\-client\-cert\-auth\fR 'false'
.IP
Enable client cert authentication.
.HP
\fB\-\-client\-crl\-file\fR ''
.IP
Path to the client certificate revocation list file.
.HP
\fB\-\-client\-cert\-allowed\-hostname\fR ''
.IP
Allowed TLS hostname for client cert authentication.
.HP
\fB\-\-trusted\-ca\-file\fR ''
.IP
Path to the client server TLS trusted CA cert file.
.HP
\fB\-\-auto\-tls\fR 'false'
.IP
Client TLS using generated certificates.
.HP
\fB\-\-peer\-cert\-file\fR ''
.IP
Path to the peer server TLS cert file.
.HP
\fB\-\-peer\-key\-file\fR ''
.IP
Path to the peer server TLS key file.
.HP
\fB\-\-peer\-client\-cert\-auth\fR 'false'
.IP
Enable peer client cert authentication.
.HP
\fB\-\-peer\-trusted\-ca\-file\fR ''
.IP
Path to the peer server TLS trusted CA file.
.HP
\fB\-\-peer\-cert\-allowed\-cn\fR ''
.IP
Required CN for client certs connecting to the peer endpoint.
.HP
\fB\-\-peer\-cert\-allowed\-hostname\fR ''
.IP
Allowed TLS hostname for inter peer authentication.
.HP
\fB\-\-peer\-auto\-tls\fR 'false'
.IP
Peer TLS using self\-generated certificates if \fB\-\-peer\-key\-file\fR and \fB\-\-peer\-cert\-file\fR are not provided.
.HP
\fB\-\-peer\-crl\-file\fR ''
.IP
Path to the peer certificate revocation list file.
.HP
\fB\-\-cipher\-suites\fR ''
.IP
Comma\-separated list of supported TLS cipher suites between client/server and peers (empty will be auto\-populated by Go).
.HP
\fB\-\-cors\fR '*'
.IP
Comma\-separated whitelist of origins for CORS, or cross\-origin resource sharing, (empty or * means allow all).
.HP
\fB\-\-host\-whitelist\fR '*'
.IP
Acceptable hostnames from HTTP client requests, if server is not secure (empty or * means allow all).
.SS "Auth:"
.HP
\fB\-\-auth\-token\fR 'simple'
.IP
Specify a v3 authentication token type and its options ('simple' or 'jwt').
.HP
\fB\-\-bcrypt\-cost\fR 10
.IP
Specify the cost / strength of the bcrypt algorithm for hashing auth passwords. Valid values are between 4 and 31.
.HP
\fB\-\-auth\-token\-ttl\fR 300
.IP
Time (in seconds) of the auth\-token\-ttl.
.SS "Profiling and Monitoring:"
.HP
\fB\-\-enable\-pprof\fR 'false'
.IP
Enable runtime profiling data via HTTP server. Address is at client URL + "/debug/pprof/"
.HP
\fB\-\-metrics\fR 'basic'
.IP
Set level of detail for exported metrics, specify 'extensive' to include histogram metrics.
.HP
\fB\-\-listen\-metrics\-urls\fR ''
.IP
List of URLs to listen on for the metrics and health endpoints.
.SS "Logging:"
.HP
\fB\-\-logger\fR 'capnslog'
.IP
Specify 'zap' for structured logging or 'capnslog'. [WARN] 'capnslog' will be deprecated in v3.5.
.HP
\fB\-\-log\-outputs\fR 'default'
.IP
Specify 'stdout' or 'stderr' to skip journald logging even when running under systemd, or list of comma separated output targets.
.HP
\fB\-\-log\-level\fR 'info'
.IP
Configures log level. Only supports debug, info, warn, error, panic, or fatal.
.SS "v2 Proxy (to be deprecated in v4):"
.HP
\fB\-\-proxy\fR 'off'
.IP
Proxy mode setting ('off', 'readonly' or 'on').
.HP
\fB\-\-proxy\-failure\-wait\fR 5000
.IP
Time (in milliseconds) an endpoint will be held in a failed state.
.HP
\fB\-\-proxy\-refresh\-interval\fR 30000
.IP
Time (in milliseconds) of the endpoints refresh interval.
.HP
\fB\-\-proxy\-dial\-timeout\fR 1000
.IP
Time (in milliseconds) for a dial to timeout.
.HP
\fB\-\-proxy\-write\-timeout\fR 5000
.IP
Time (in milliseconds) for a write to timeout.
.HP
\fB\-\-proxy\-read\-timeout\fR 0
.IP
Time (in milliseconds) for a read to timeout.
.SS "Experimental feature:"
.HP
\fB\-\-experimental\-initial\-corrupt\-check\fR 'false'
.IP
Enable to check data corruption before serving any client/peer traffic.
.HP
\fB\-\-experimental\-corrupt\-check\-time\fR '0s'
.IP
Duration of time between cluster corruption check passes.
.HP
\fB\-\-experimental\-enable\-v2v3\fR ''
.IP
Serve v2 requests through the v3 backend under a given prefix.
.HP
\fB\-\-experimental\-backend\-bbolt\-freelist\-type\fR 'array'
.IP
ExperimentalBackendFreelistType specifies the type of freelist that boltdb backend uses(array and map are supported types).
.HP
\fB\-\-experimental\-enable\-lease\-checkpoint\fR 'false'
.IP
ExperimentalEnableLeaseCheckpoint enables primary lessor to persist lease remainingTTL to prevent indefinite auto\-renewal of long lived leases.
.HP
\fB\-\-experimental\-compaction\-batch\-limit\fR 1000
.IP
ExperimentalCompactionBatchLimit sets the maximum revisions deleted in each compaction batch.
.HP
\fB\-\-experimental\-peer\-skip\-client\-san\-verification\fR 'false'
.IP
Skip verification of SAN field in client certificate for peer connections.
.HP
\fB\-\-experimental\-watch\-progress\-notify\-interval\fR '10m'
.IP
Duration of periodical watch progress notification.
.HP
\fB\-\-experimental\-warning\-apply\-duration\fR '100ms'
.IP
Warning is generated if requests take more than this duration.
.SS "Unsafe feature:"
.HP
\fB\-\-force\-new\-cluster\fR 'false'
.IP
Force to create a new one\-member cluster.
.PP
CAUTIOUS with unsafe flag! It may break the guarantees given by the consensus protocol!
.SS "TO BE DEPRECATED:"
.HP
\fB\-\-debug\fR 'false'
.IP
Enable debug\-level logging for etcd. [WARN] Will be deprecated in v3.5. Use '\-\-log\-level=debug' instead.
.HP
\fB\-\-log\-package\-levels\fR ''
.IP
Specify a particular log level for each etcd package (eg: 'etcdmain=CRITICAL,etcdserver=DEBUG').

.SH "SEE ALSO"
\fBectdctl\fR(1),
.B /usr/share/doc/etcd-server/op-guide/configuration.md.gz
